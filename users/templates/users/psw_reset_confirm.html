{% extends "mailing_manager/base.html" %}

{% block title %}Востановление пароля{% endblock %}

{% block content %}

<div class="card mt-4 box-shadow">
    <div class="card-header">
        <h4 class="my-0 font-weight-normal">Востановление пароля</h4>
    </div>
    <div class="card-body">
        {% if validlink %}
        <p>Пожалуйста, введите свой новый пароль дважды, чтобы мы могли убедиться, что вы ввели его правильно.</p>
        <form method="post" class="form-floating">
            {% csrf_token %}
            <input class="visually-hidden" autocomplete="username" value="{{ form.user.get_username }}">
            {{ form.new_password1.errors }}
            <div class="mb-3">
                <label for="id_new_password1">Новый пароль</label>
                <input type="password" name="new_password1" autocomplete="new-password"
                    aria-describedby="id_new_password1_helptext" id="id_new_password1" class="form-control">
            </div>
            {{ form.new_password2.errors }}
            <div class="mb-3">
                <label for="id_new_password2">Повторите пароль</label>
                <input type="password" name="new_password2" autocomplete="new-password"
                    aria-describedby="id_new_password2_helptext" id="id_new_password2" class="form-control">
            </div>
            <div class="card-footer">
                <button type="submit" class="btn btn-primary">Сменить пароль</button>
            </div>
        </form>
        {% else %}
        <p>Ссылка для сброса пароля оказалась недействительной, возможно, потому, что она уже использовалась.
            Пожалуйста, запросите новый сброс пароля.</p>
        {% endif %}
    </div>
</div>

{% endblock %}